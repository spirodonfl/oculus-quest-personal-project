<!--
TODO:
You need to be able to
* Inject elements into space
* View elements dimensions and coordinates
* Move elements by focusing on one and using hands, controllers or virtual keyboard (or real keyboard even)
* View elements color and attributes
* Resize elements
* Adjust element attributes
* Elements should include box, sphere, circle, rounded, triangle, pyramid, plane, text, line, dot(?), flat shapes, hexagon, octagon
-->

<html>
    <head>
        <title>Test</title>
        <script src="aframe.js"></script>
        <link rel="stylesheet" href="css/all.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/xterm/3.14.5/xterm.min.css" />
    </head>
    <body>
        <!-- Note: You need this here to actually load the font or it never loads -->
        <i class="fa fa-abacus"></i>

        <!--TODO: you need to read this: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/xterm/3.14.5/xterm.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/xterm/3.14.5/addons/attach/attach.js"></script>
        <script src="common/strings.js"></script>
        <script src="common/simplepeer.min.js"></script>
        <script src="common/shortcuts.js"></script>
        <script src="common/settings.js"></script>
        <script src="canvas-helper.js"></script>
        <script src="common/keycode-map.js"></script>
        <script src="common/keycode-map-layout.js"></script>
        <script src="common/functional.js"></script>
        <script src="common/functional-log.js"></script>
        <script src="common/functional-error.js"></script>
        <script src="common/functional-data.js"></script>
        <script src="common/functional-events.js"></script>
        <script src="common/functional-fsm.js"></script>
        <script src="common/functional-websocket.js"></script>
        <script src="common/functional-uuid.js"></script>
        <script src="aframe-stuff.js"></script>
        <script src="common/connections.js"></script>
        <script src="main.js"></script>
        <script src="app.js"></script>
        <script src="ui.js"></script>

        <a-scene id="the-scene" font-awesome="timeout: 10000" background="color: rgb(30, 30, 30);" cursor="rayOrigin: mouse">
            <!-- In case you need a manual load -->
            <!--<a-node id="dummy"></a-node>-->

            <a-assets id="the-assets" timeout="10000">
                <canvas id="font-awesome-canvas"></canvas>
                <canvas id="canvas-worktable"></canvas>
                <i id="font-awesome-el"></i>
                <div id="canvas-terminal"></div>
                <canvas id="test"></canvas>
            </a-assets>

            <a-entity initialize></a-entity>

            <!--<a-box id="the-box" class="clickable" width="1" height="1" position="0 0 0" dragndrop></a-box>-->

            <!-- TODO: Convert this to function and/or component -->
            <!--<a-entity position="0 10 -1.5" initialize>-->
                <!-- Order matters when doing double side rendering when you see something from the back -->
                <!--<a-text
                    side="double"
                    opacity="1"
                    font="https://cdn.aframe.io/fonts/Exo2SemiBold.fnt"
                    value="SYSTEM ALERT"
                    color="rgb(255, 255, 255)"
                    width="4"
                    align="center"></a-text>
                <a-text
                    position="0 -0.3 0"
                    side="double"
                    opacity="0.8"
                    color="rgb(255, 255, 255)"
                    value="Some stuff goes here And here too And here..."
                    width="1.4"
                    wrap-count="20"
                    align="center"></a-text>
                <a-plane
                    side="double"
                    height="0.2"
                    position="0 -0.03 0"
                    width="1.5"
                    material="opacity: 0.3; color: rgb(255, 70, 20);"></a-plane>-->
                <!-- https://aframe.io/docs/1.2.0/components/animation.html -->
                <!--animation="property: opacity; from: 0; to: 1; dur: 2000"-->
                <!--<a-box
                    vr-border="color: red"
                    position="0 -0.2 0"
                    depth="0.01"
                    width="1.75"
                    height="0.80"
                    opacity="0.05"
                    color="red"></a-box>
            </a-entity>-->

            <!-- <a-box
                vr-border="color: red"
                position="0 0.3 0"
                depth="0.2"
                width="0.4"
                height="0.3"
                opacity="0.05"
                color="red"></a-box>
            <a-plane
                width="0.1"
                height="0.1"
                position="-0.5 -0.1 0.5"
                material="src: #test; transparent: true;"
                draw-canvas></a-plane> -->

<!--
TODO: List of buttons to make
- Connections (should open up server list and go from there)
** All the buttons and shortcuts in the 2d UI interface
- Notes - probably from localstorage
- Model editor
- Environments
- AR toggle
Might be better to do cubes / circles you can hold in your hand then place on table and have table update UI
- What if we want to have both server stuff and, say, model editor? That's ok, holotable should only focus on one thing at a time and you save state of whatever you're replacing
- When you hold up an "entity" you will get basic information hovered around it while in your hand until on holotable
- Ok but this is harder to do... can we do something simpler?
Simpler version:
- 2d menu of icons which switches contexts. Initial tap/click shows you basic info and then deeper dive takes over holotable
-->
<a-entity line="start: 0 1 0; end: 2 0 -5; color: red"
          line__2="start: -2 4 5; end: 0 4 -3; color: green"></a-entity>
            <a-circle
                width="0.1"
                height="0.1"
                radius="0.05"
                color="rgb(50, 200, 50)"
                opacity="0.1"
                position="-0.5 0.1 0.5"
                vr-border="color: rgb(200, 50, 50)"
                ></a-circle>
                <!-- TODO: Radius scaled by width/height -->
            <a-circle
                width="0.1"
                height="0.1"
                radius="0.05"
                color="rgb(20, 230, 20)"
                opacity="0.1"
                position="-0.61 0.1 0.5"
                vr-border="color: rgb(50, 200, 50)"
                ></a-circle>
            <a-circle
                width="0.1"
                height="0.1"
                radius="0.05"
                color="rgb(0, 250, 0)"
                opacity="0.1"
                position="-0.72 0.1 0.5"
                vr-border="color: rgb(50, 200, 50)"
                ></a-circle>

                <!-- TODO: Vertices scaled by width/height -->
            <a-triangle
                width="0.1"
                height="0.1"
                color="rgb(0, 250, 0)"
                vertex-a="0 0.05 0"
                vertex-b="-0.05 -0.05 0"
                vertex-c="0.05 -0.05 0"
                opacity="0.1"
                position="-0.5 0.3 0.5"
                vr-border="color: rgb(200, 50, 50)"
                ></a-triangle>
            <a-triangle
            width="0.1" height="0.1"
                 color="rgb(0, 250, 0)"
                vertex-a="0 0.05 0"
                vertex-b="-0.05 -0.05 0"
                vertex-c="0.05 -0.05 0"
                 opacity="0.1"
                position="-0.61 0.3 0.5"
                vr-border="color: rgb(50, 50, 200)"
                ></a-triangle>
            <a-triangle
                width="0.1"
                height="0.1"
                color="rgb(0, 0, 250)"
                vertex-a="0 0.05 0"
                vertex-b="-0.05 -0.05 0"
                vertex-c="0.05 -0.05 0"
                opacity="0.1"
                position="-0.72 0.3 0.5"
                vr-border="color: rgb(50, 50, 200)"
                ></a-triangle>

            <a-rounded
                width="0.1"
                height="0.1"
                color="rgb(200, 40, 40)"
                opacity="0.1"
                position="-0.5 -0.1 0.5"
                vr-border="color: rgb(255, 40, 40)"
                ></a-rounded>
            <a-rounded
                width="0.1"
                height="0.1"
                color="rgb(230, 20, 20)"
                opacity="0.1"
                position="-0.61 -0.1 0.5"
                vr-border="color: rgb(255, 40, 40)"
                ></a-rounded>
            <a-rounded
                width="0.1"
                height="0.1"
                color="rgb(250, 0, 0)"
                opacity="0.1"
                position="-0.72 -0.1 0.5"
                vr-border="color: rgb(255, 40, 40)"
                ></a-rounded>

            <a-box
                width="0.1"
                height="0.1"
                depth="0.1"
                opacity="0.1"
                color="rgb(200, 90, 90)"
                position="-0.72 -0.1 0.5"
                vr-border="color: rgb(200, 90, 90)"
            ></a-box>
            <a-sphere
                radius="0.04"
                opacity="0.1"
                color="rgb(200, 90, 90)"
                position="-0.72 -0.1 0.5"
                vr-border="color: rgb(200, 90, 90)"
            ></a-sphere>

            <a-box
                width="0.2"
                height="0.2"
                depth="0.2"
                opacity="0.2"
                color="rgb(69, 123, 157)"
                position="-0.9 -0.1 0.5"
                vr-border="color: rgb(69, 123, 157)"
            ></a-box>
            <a-sphere
                radius="0.08"
                opacity="0.1"
                color="rgb(69, 123, 157)"
                position="-0.9 -0.1 0.5"
                vr-border="color: rgb(69, 123, 157)"
            ></a-sphere>

            <a-entity
                id="the-camera-rig"
                movement-controls="constrainToNavMesh: false;"
                navigator="cameraRig: #the-camera-rig; cameraHead: #head; collisionEntities: .collision; ignoreEntities: .clickable"
                position="0 0 0"
                rotation="0 0 0">
                <a-camera
                    spectator="true"
                    wasd-controls="fly: true; acceleration: 5"
                    position="0 0 0"
                    camera-logger
                    id="head"
                    look-controls><!--<a-cursor></a-cursor>--></a-camera>
                <a-entity
                    id="left-hand"
                    oculus-touch-controls="hand: left"
                     hand-tracking-controls="hand: left; modelColor: green; modelStyle: dots"
                    visible="true"></a-entity>
                <!-- TODO: add oculus-touch-controls and hand-tracking-controls (basically the hand entities) only when you've entered VR -->
                <a-entity
                    id="right-hand"
                    oculus-touch-controls="hand: right"
                    laser-controls
                    raycaster="showLine: true; far: 10; interval: 0; objects: .clickable, a-link;"
                     hand-tracking-controls="hand: right; modelColor: red; modelStyle: dots"
                    line="color: #7cfc00; opacity: 0.5"
                    visible="true"></a-entity>
            </a-entity>
        </a-scene>
    </body>
</html>
